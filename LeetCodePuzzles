##Consecutive Numbers:

CREATE TABLE CONSECUTIVENUMBERS(ID INT,NUM INT)

INSERT INTO CONSECUTIVENUMBERS
VALUES(1,1),(2,1),(3,1),(4,2),(5,1),(6,2),(7,2),(8,2)


;WITH REC_CTE AS 
(
SELECT ID,NUM,1 AS CNT 
FROM 
CONSECUTIVENUMBERS WHERE ID=1

UNION ALL

SELECT CN.ID ID,CN.NUM NUM,
CASE WHEN CN.NUM=CT.NUM THEN
CT.CNT+1 ELSE 1 END CNT
FROM REC_CTE CT
JOIN CONSECUTIVENUMBERS CN
ON CN.ID=CT.ID+1
)

SELECT NUM,CNT,ID FROM REC_CTE
WHERE CNT>=3
